<body>
<h1>JavaSkript Documentation & Runtime</h1>
<textarea id=input rows="10" cols="115">alert the message "Hey, how are you?" to the player
log the message "Hoi Console!" to the console</textarea>
<hr>
<button id=run>Run</button>
<p>alert [the/a message OR message] {string} [to the player]</p>
<p>log [the/a message OR message] {string} [to the console]</p>
<script>
var javaskript = {
    add: function (name, func) {
        if (typeof func === 'function') {
            if (typeof name === 'string' || name instanceof String) {
                if (javaskript.commands[name] !== undefined) {
                    this.error('Command "' + name + '"Already Exists');
                } else {
                    javaskript.commands[name] = func;
                }
            } else {
                this.error('Argument 1 is not a String');
            }
        } else {
            this.error('Argument 2 is not a Function');
        }
        this.throwvar();
    },
  	commands: [], 
  	run: function (string) {
        string = string.split('"'); //Coming Soon - Better Breakdown of Strings
        this.temp.a = string[0].split(" ")
            .shift();
        this.temp.b = this.commands[javaskript.temp.a];
        if (this.temp.b !== undefined) {
            this.temp.b(string);
        } else {
            this.error('No command found.');
        }
        this.throwvar();
    },
  	temp: [{
        a: null,
        b: null
    }],
    throwvar: function(){
        this.temp.a = null;
        this.temp.b = null;
    },
    error: function (string) {
        console.log('JavaSkript Error: ' + string);
    }
};
//Preset Commands
javaskript.add('alert', function (args) {
    if (['alert the message ', 'alert a message ', 'alert message ', 'alert '].includes(args[0])) {
        if ([' to the player', ''].includes(args[2])) {
            alert(args[1]);
        } else {
            javaskript.error('Argument 3 is invalid');
        }
    } else {
        javaskript.error('Argument 1 is invalid');
    }
});
javaskript.add('log', function (args) {
    if (['log the message ', 'log a message ', 'log message ', 'log '].includes(args[0])) {
        if ([' to the console', ''].includes(args[2])) {
            console.log(args[1]);
        } else {
            javaskript.error('Argument 3 is invalid');
        }
    } else {
        javaskript.error('Argument 1 is invalid');
    }
});
//Interperator
document.getElementById('run')
    .onclick = function () {
        var javaskript_input = document.getElementById('input')
            .value.split('\n');
        javaskript_input.forEach(function (item) {
            javaskript.run(item);
        });
    };

//Preset Commands
javaskript.add('alert', function (args) {
    if (['alert the message ', 'alert a message ', 'alert message ', 'alert '].includes(args[0])) {
        if ([' to the player', ''].includes(args[2])) {
            alert(args[1]);
        } else {
            javaskript.error('Argument 3 is invalid');
        }
    } else {
        javaskript.error('Argument 1 is invalid');
    }
});
javaskript.add('log', function (args) {
    if (['log the message ', 'log a message ', 'log message ', 'log '].includes(args[0])) {
        if ([' to the console', ''].includes(args[2])) {
            console.log(args[1]);
        } else {
            javaskript.error('Argument 3 is invalid');
        }
    } else {
        javaskript.error('Argument 1 is invalid');
    }
});
//Interperator
document.getElementById('run')
    .onclick = function () {
        var javaskript_input = document.getElementById('input')
            .value.split('\n');
        javaskript_input.forEach(function (item) {
            javaskript.run(item);
        });
    };
</script>
</body>
